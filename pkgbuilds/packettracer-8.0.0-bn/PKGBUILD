# Maintainer: BnSplits <bnsp.x0@gmail.com>
pkgname=packettracer-bn
pkgver=8.0.0
pkgrel=2
pkgdesc="A cross-platform visual simulation tool designed by Cisco Systems that allows users to create network topologies and imitate modern computer network"
arch=('x86_64')
depends=('openssl>=1.0' 'dbus' 'icu' 'glib2' 'libxml2-legacy' 'libjpeg-turbo' 'nss' 'libxss' 'java-runtime>=1.7.0' 'qt5-multimedia' 'qt5-webengine' 'qt5-svg' 'qt5-networkauth' 'qt5-websockets' 'qt5-script' 'qt5-speech')
options=('!strip' '!emptydirs' '!zipman')
url="https://www.netacad.com/courses/packet-tracer"
license=('LicenseRef-Cisco-EULA')
conflicts=("packettracer")
source=('https://archive.org/download/packet-tracer-800-build-212-mac-notarized/PacketTracer_800_amd64_build212_final.deb')
sha512sums=('3a56a369ae2028fa866ad2e27bbe07d1bee14fd0f16f82790c5f7ad9b7a7c3fc39b4b88d52aae652dccf1a21a3ae0f433e8b586ace4f48dfab7271524c5d163c')

prepare() {
  mkdir -p "${srcdir}/deb"
  bsdtar -xf "$srcdir/PacketTracer_800_amd64_build212_final.deb" -C "$srcdir/deb"
}

package() {
  tar xf "${srcdir}/deb/data.tar.xz" -C "${pkgdir}"
}
